<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido de Pizza - EETPySO 473</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Un color de fondo suave */
        }
        .pizza-card {
            transition: transform 0.2s ease-in-out;
        }
        .pizza-card:hover {
            transform: translateY(-5px);
        }
        /* Estilo para el input de cantidad */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-red-50 to-orange-100 min-h-screen flex items-center justify-center py-10 px-4">
    <div class="max-w-4xl w-full bg-white rounded-3xl shadow-2xl p-8 md:p-12 border border-gray-200">
        <!-- Encabezado -->
        <header class="text-center mb-10">
            <h1 class="text-5xl font-extrabold text-red-600 mb-4 animate-pulse">üçï‚ú® ¬°Pizza para tu panza! ‚ú®üçï</h1>
            <p class="text-xl text-gray-700 leading-relaxed">¬°Hola, comunidad EETPySO 473! ¬øTe antojaste de una pizza y encima quer√©s hacer una buena obra? ¬°Lleg√≥ la oportunidad perfecta!</p>
            <p class="text-lg text-gray-600 mt-2">¬°Estamos juntando fondos para adquirir un elemento del taller de carpinter√≠a!</p>
        </header>

        <!-- Secci√≥n de Promociones -->
        <section class="mb-12">
            <h2 class="text-4xl font-bold text-center text-orange-500 mb-8">¬°Nuestras Promos que te har√°n delirar! ü§§</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Promo 1 -->
                <div class="pizza-card bg-white p-6 rounded-2xl shadow-lg border border-red-200 flex flex-col items-center text-center">
                    <img src="https://placehold.co/150x100/fecaca/dc2626?text=Muzzarella" alt="Pizza Muzzarella" class="rounded-lg mb-4 shadow-md">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">PROMO 1: ¬°La Cl√°sica!</h3>
                    <p class="text-xl text-gray-600 mb-4">1 Muzzarella</p>
                    <p class="text-3xl font-bold text-red-600 mb-4">$6.500</p>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity('promo1', -1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">-</button>
                        <input type="number" id="promo1-qty" value="0" min="0" class="w-16 text-center border border-gray-300 rounded-md py-1 text-lg" onchange="calculateTotal()">
                        <button onclick="updateQuantity('promo1', 1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">+</button>
                    </div>
                </div>

                <!-- Promo 2 -->
                <div class="pizza-card bg-white p-6 rounded-2xl shadow-lg border border-red-200 flex flex-col items-center text-center">
                    <img src="https://placehold.co/150x100/fecaca/dc2626?text=Especial" alt="Pizza Especial" class="rounded-lg mb-4 shadow-md">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">PROMO 2: ¬°La Estrella!</h3>
                    <p class="text-xl text-gray-600 mb-4">1 Especial</p>
                    <p class="text-3xl font-bold text-red-600 mb-4">$7.200</p>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity('promo2', -1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">-</button>
                        <input type="number" id="promo2-qty" value="0" min="0" class="w-16 text-center border border-gray-300 rounded-md py-1 text-lg" onchange="calculateTotal()">
                        <button onclick="updateQuantity('promo2', 1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">+</button>
                    </div>
                </div>

                <!-- Promo 3 -->
                <div class="pizza-card bg-white p-6 rounded-2xl shadow-lg border border-red-200 flex flex-col items-center text-center">
                    <img src="https://placehold.co/150x100/fecaca/dc2626?text=2+Muzzas" alt="2 Pizzas Muzzarella" class="rounded-lg mb-4 shadow-md">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">PROMO 3: ¬°D√∫o Muzzarella!</h3>
                    <p class="text-xl text-gray-600 mb-4">2 Muzzarellas</p>
                    <p class="text-3xl font-bold text-red-600 mb-4">$11.000</p>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity('promo3', -1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">-</button>
                        <input type="number" id="promo3-qty" value="0" min="0" class="w-16 text-center border border-gray-300 rounded-md py-1 text-lg" onchange="calculateTotal()">
                        <button onclick="updateQuantity('promo3', 1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">+</button>
                    </div>
                </div>

                <!-- Promo 4 -->
                <div class="pizza-card bg-white p-6 rounded-2xl shadow-lg border border-red-200 flex flex-col items-center text-center">
                    <img src="https://placehold.co/150x100/fecaca/dc2626?text=2+Especiales" alt="2 Pizzas Especiales" class="rounded-lg mb-4 shadow-md">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">PROMO 4: ¬°D√∫o Especial!</h3>
                    <p class="text-xl text-gray-600 mb-4">2 Especiales</p>
                    <p class="text-3xl font-bold text-red-600 mb-4">$13.000</p>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity('promo4', -1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">-</button>
                        <input type="number" id="promo4-qty" value="0" min="0" class="w-16 text-center border border-gray-300 rounded-md py-1 text-lg" onchange="calculateTotal()">
                        <button onclick="updateQuantity('promo4', 1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">+</button>
                    </div>
                </div>

                <!-- Promo 5 -->
                <div class="pizza-card bg-white p-6 rounded-2xl shadow-lg border border-red-200 flex flex-col items-center text-center">
                    <img src="https://placehold.co/150x100/fecaca/dc2626?text=Muzza+y+Especial" alt="Pizza Muzzarella y Especial" class="rounded-lg mb-4 shadow-md">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">PROMO 5: ¬°El Combo Perfecto!</h3>
                    <p class="text-xl text-gray-600 mb-4">1 Muzzarella y 1 Especial</p>
                    <p class="text-3xl font-bold text-red-600 mb-4">$12.000</p>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity('promo5', -1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">-</button>
                        <input type="number" id="promo5-qty" value="0" min="0" class="w-16 text-center border border-gray-300 rounded-md py-1 text-lg" onchange="calculateTotal()">
                        <button onclick="updateQuantity('promo5', 1)" class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl font-bold hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">+</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resumen del Pedido y Datos del Cliente -->
        <section class="mb-12 bg-orange-50 p-8 rounded-2xl shadow-inner border border-orange-200">
            <h2 class="text-3xl font-bold text-orange-600 mb-6 text-center">Tu Pedido</h2>
            <div class="mb-6">
                <label for="customer-name" class="block text-gray-700 text-lg font-medium mb-2">Tu Nombre:</label>
                <input type="text" id="customer-name" placeholder="Ej: Juan P√©rez" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent text-lg">
            </div>
            <div class="mb-6">
                <label for="customer-whatsapp" class="block text-gray-700 text-lg font-medium mb-2">Tu WhatsApp (opcional):</label>
                <input type="tel" id="customer-whatsapp" placeholder="Ej: +5493415462593" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 focus:border-transparent text-lg">
            </div>

            <div id="order-summary" class="bg-white p-6 rounded-xl shadow-md border border-gray-200 mb-6">
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Detalle del Pedido:</h3>
                <ul id="summary-list" class="list-disc list-inside text-lg text-gray-700 mb-4">
                    <!-- Los elementos del pedido se insertar√°n aqu√≠ con JS -->
                </ul>
                <p class="text-3xl font-bold text-red-700 text-right">Total: <span id="total-price">$0</span></p>
            </div>

            <button onclick="sendWhatsAppOrder()" class="w-full bg-green-500 text-white py-4 rounded-xl text-2xl font-bold hover:bg-green-600 transition-all duration-300 shadow-lg transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-400">
                ¬°Hac√© tu pedido por WhatsApp!
            </button>
        </section>

        <!-- Detalles Importantes -->
        <section class="bg-blue-50 p-8 rounded-2xl shadow-inner border border-blue-200">
            <h2 class="text-3xl font-bold text-blue-600 mb-6 text-center">‚ö†Ô∏è ¬°ATENCI√ìN! Detalles Importantes ‚ö†Ô∏è</h2>
            <ul class="space-y-4 text-lg text-gray-700">
                <li class="flex items-center">
                    <svg class="w-6 h-6 text-blue-500 mr-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l3 3a1 1 0 001.414-1.414L11 9.586V6z" clip-rule="evenodd"></path></svg>
                    <span class="font-semibold">Pedidos hasta el:</span> 01 de agosto
                </li>
                <li class="flex items-center">
                    <svg class="w-6 h-6 text-blue-500 mr-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg>
                    <span class="font-semibold">Retiro en la escuela:</span> Viernes 08 de agosto a partir de las 15:00 hs.
                </li>
                <li class="flex items-center">
                    <svg class="w-6 h-6 text-blue-500 mr-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 002-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 2a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                    <span class="font-semibold">Forma de Pago:</span> ¬°Solo aceptamos transferencias! (Datos Alias: <span class="font-bold text-red-500">pizza.473</span> üòâ)
                </li>
            </ul>
        </section>
    </div>

    <script>
        // Definici√≥n de las promociones con sus precios y nombres
        const promos = {
            promo1: { name: '1 Muzzarella', price: 6500 },
            promo2: { name: '1 Especial', price: 7200 },
            promo3: { name: '2 Muzzarellas', price: 11000 },
            promo4: { name: '2 Especiales', price: 13000 },
            promo5: { name: '1 Muzzarella y 1 Especial', price: 12000 }
        };

        /**
         * Actualiza la cantidad de una promoci√≥n y recalcula el total.
         * @param {string} promoId - El ID de la promoci√≥n (ej. 'promo1').
         * @param {number} change - El cambio a aplicar a la cantidad (ej. 1 para aumentar, -1 para disminuir).
         */
        function updateQuantity(promoId, change) {
            const input = document.getElementById(`${promoId}-qty`);
            let currentQty = parseInt(input.value);
            let newQty = currentQty + change;
            if (newQty < 0) {
                newQty = 0; // Asegura que la cantidad no sea negativa
            }
            input.value = newQty;
            calculateTotal(); // Recalcula el total despu√©s de cada cambio
        }

        /**
         * Calcula el total del pedido y actualiza el resumen en la interfaz.
         */
        function calculateTotal() {
            let total = 0;
            const summaryList = document.getElementById('summary-list');
            summaryList.innerHTML = ''; // Limpiar el resumen anterior

            // Iterar sobre cada promoci√≥n para calcular el total y construir el resumen
            for (const id in promos) {
                const qtyInput = document.getElementById(`${id}-qty`);
                const quantity = parseInt(qtyInput.value);

                if (quantity > 0) {
                    const promo = promos[id];
                    total += promo.price * quantity;

                    // A√±adir el item al resumen
                    const listItem = document.createElement('li');
                    listItem.textContent = `${quantity} x ${promo.name} - $${(promo.price * quantity).toLocaleString('es-AR')}`;
                    summaryList.appendChild(listItem);
                }
            }

            // Actualizar el precio total en la interfaz
            document.getElementById('total-price').textContent = `$${total.toLocaleString('es-AR')}`;
        }

        /**
         * Genera el mensaje de WhatsApp con el resumen del pedido y abre el enlace.
         */
        function sendWhatsAppOrder() {
            const customerName = document.getElementById('customer-name').value.trim();
            const customerWhatsapp = document.getElementById('customer-whatsapp').value.trim();
            let orderDetails = [];
            let totalAmount = 0;

            // Recopilar los detalles del pedido
            for (const id in promos) {
                const qtyInput = document.getElementById(`${id}-qty`);
                const quantity = parseInt(qtyInput.value);

                if (quantity > 0) {
                    const promo = promos[id];
                    orderDetails.push(`${quantity} x ${promo.name} ($${(promo.price * quantity).toLocaleString('es-AR')})`);
                    totalAmount += promo.price * quantity;
                }
            }

            // Validar que se haya seleccionado al menos una pizza
            if (orderDetails.length === 0) {
                alert("Por favor, selecciona al menos una pizza para tu pedido.");
                return;
            }

            // Construir el mensaje de WhatsApp
            let message = `¬°Hola! Quiero hacer un pedido de pizza para la EETPySO 473.\n\n`;
            if (customerName) {
                message += `Mi nombre es: ${customerName}\n`;
            }
            if (customerWhatsapp) {
                message += `Mi WhatsApp es: ${customerWhatsapp}\n`;
            }
            message += `\nDetalle del pedido:\n`;
            message += orderDetails.join('\n');
            message += `\n\nTotal a pagar: $${totalAmount.toLocaleString('es-AR')}\n`;
            message += `\n¬°Gracias!`;

            // Codificar el mensaje para la URL de WhatsApp
            const encodedMessage = encodeURIComponent(message);
            const whatsappNumber = '5493415462593'; // N√∫mero de WhatsApp de contacto

            // Abrir el enlace de WhatsApp
            window.open(`https://wa.me/${whatsappNumber}?text=${encodedMessage}`, '_blank');
        }

        // Inicializar el c√°lculo del total al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', calculateTotal);
    </script>
</body>
</html>